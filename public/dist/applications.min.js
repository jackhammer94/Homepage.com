function addApp(e,a){$.ajax({type:"GET",url:base_url+"/get_app",data:{application_name:e},success:function(a){console.log("retrieved app Successfully",a),$("#"+e+"_slot").append(a[0].html),a[0].dependency&&$("#"+e+"_slot").append('<script id="'+e+'_dependency" src="'+a[0].dependency+'"></script>'),$("#"+e+"_slot").append('<script id="'+e+'_js" src="'+a[0].js+'"></script>'),$("#"+e+"_button").html("added"),$("#add_feeds_modal").modal("hide"),$("html, body").animate({scrollTop:$("#"+e).closest(".application").offset().top},2e3)},error:function(){console.log("error fetching app!")}}),saveApp(e)}function saveApp(e){$.ajax({url:base_url+"/save_app",type:"POST",data:"application_name="+e,success:function(a){console.log(e+" added successfully")},error:function(){console.log("error saving "+e+" app")}})}function removeApp(e){null===document.getElementById(e+"_slot")&&$("#"+e).closest(".application").after('<div id="'+e+'_slot"></div>'),$("#"+e).parents(".application").remove(),$("#"+e+"_js").remove(),$("#"+e+"_dependency").remove(),$("#"+e+"_button").prop("disabled",!1),$("#"+e+"_button").html("add"),$.ajax({url:base_url+"/remove_app",type:"POST",data:"application_name="+e,success:function(a){console.log(e+" removed successfully")},error:function(){console.log("error removing "+e+" application")}}),console.log(e+" deleted successfully");var a=[];$(".application").each(function(e,o){a[e]=$(".application").eq(e).attr("id")}),0===a.length&&saveApp("void_application")}var base_url=window.location.origin;$(document).ready(function(){$(".application").each(function(e,a){var o=$(this).find(".application-inner").attr("id");$("#"+o+"_button").prop("disabled",!0),$("#"+o+"_button").html("added")}),$(".add_application_button").on("click",function(){var e=$(this).attr("id");$("#"+e).html("<i class='fa fa-spinner fa-pulse'></i> adding.."),$("#"+e).prop("disabled",!0),addApp(e.slice(0,-7),"add")})});